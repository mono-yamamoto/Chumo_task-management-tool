---
title: '/commit'
description: '変更を関連ごとに自動コミット（1コミット=1事柄）。確認なしで実行。'
---

Task tool を使用してコミットエージェントを実行します：

- **description**: "変更を自動コミット実行"
- **subagent_type**: "commit"
- **prompt**: "現在の変更を適切にグルーピングして、1コミット=1事柄の原則で自動コミットしてください。以下のルールに従ってください：

## コミット処理ルール

### 1. 変更分析とグルーピング

- `git status --porcelain` で変更ファイルを取得
- 関連性に基づいてファイルをグルーピング
- scope: ディレクトリ構造から自動判定（packages配下は pakage名、それ以外は先頭ディレクトリ、なければroot）
- area: 変更領域を判定（pkgjson, build, pages, src, other）

### 2. コミットタイプの自動判定

- ✨ feat: 新機能追加
- 🐛 fix: バグ修正
- 📝 docs: ドキュメント更新
- 💄 style: 見た目のみ変更（動作に影響なし）
- ♻️ refactor: リファクタリング
- ✅ test: テスト関連
- 🔧 build: ビルド/スクリプト関連
- 👷 ci: CI/CD関連
- 🚀 perf: パフォーマンス改善
- ⚙️ chore: その他、設定変更等

### 3. コミットメッセージ形式

- **基本**: `<絵文字> <type>(<scope>): <説明> (#<issue>)`
- **言語**: 日本語（技術用語の英語可）
- **文字数**: 1行目は50文字以内
- **Issue番号**: ブランチ名から数字を抽出して自動付与
- **補足**: 必要に応じて空行後に箇条書きで詳細説明

### 4. 実行手順

1. 既存ステージをリセット（`git reset`）
2. ファイル変更を分析・グルーピング
3. 各グループごとに：
   - ファイルをステージング（`git add -A -- <files>`）
   - 適切なコミットメッセージを生成
   - コミット実行（`git commit -m <message>`）
4. 全コミット完了後、要約を表示

### 5. 厳守事項

- **ノンインタラクティブ**: 確認なしで自動実行
- **1コミット=1事柄**: 無関係な変更は分離
- **エラー対応**: リンターエラーは修正提案のみ、自動修正しない
- **安全性**: ファイルパスをクォートし、削除/リネームも対応

現在の変更を上記ルールで処理してください。"
